PRAISE

high

# AmmModule.sol's addLiquidity() and addLiquiditySingleAsset() doesn't have slippage protection

## Summary
addLiquidity() and addLiquiditySingleAsset() functions in AmmModule.sol do not have slippage protection.

## Vulnerability Detail
addLiquidity() and addLiquiditySingleAsset() functions doesn't have slippage protection which means that the trade can potentially be executed without considering the acceptable deviation in the trade price. As a result, the actual trade execution might deviate significantly from the expected trade price, which could have adverse effects on the outcome of the operation of these functions.

Without slippage protection, the trade could experience high price slippage. This could result in receiving a smaller amount of Minimum number of liquidity pool tokens `_minPoolTokenPositionUnit`

there should be a check to ensure that only a certain percentage in price slippage is allowed during the operations of addLiquidity(), addLiquiditySingleAsset(), removeLiquidity(), removeLiquiditySingleAsset() functions in AmmModule.sol

in a situation like Network Congestion which happens regularly in Mainnet this can happen as the transaction will be delayed for a period of time.


## Impact
This could result in receiving a smaller amount than the specified amount to receive as there is no slippage protection in any of these functions.

## Code Snippet
https://github.com/sherlock-audit/2023-05-Index/blob/main/index-protocol/contracts/protocol/modules/v1/AmmModule.sol#L108

https://github.com/sherlock-audit/2023-05-Index/blob/main/index-protocol/contracts/protocol/modules/v1/AmmModule.sol#L155


## Tool used

Manual Review

## Recommendation
there should be a check to ensure that only a certain percentage of price slippage is allowed.