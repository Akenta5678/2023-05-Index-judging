Cryptor

false

# Double counting of debt possible if the same asset is used on multiple leverage modules

## Summary

Current implementation of Chainlink does not check if the sequencer is active.

https://github.com/sherlock-audit/2023-05-Index/blob/main/index-coop-smart-contracts/contracts/adapters/AaveLeverageStrategyExtension.sol#L889-L898



 Since this project is expected to be deployed on L2 chains, the protocol should check whether the sequencer is active or else it may return a stale price.

## Vulnerability Detail

See above 

## Impact
No check for active sequencer means that the oracle may return a stale price, resulting in incorrect returns values for Collateral and Borrow Prices

## Code Snippet

https://github.com/sherlock-audit/2023-05-Index/blob/main/index-coop-smart-contracts/contracts/adapters/AaveLeverageStrategyExtension.sol#L889-L898


## Tool used

Manual Review

## Recommendation

Add a check whether a sequencer is active 